# ğŸµ Auto-play Feature

Queue á€€á€¯á€”á€ºá€á€½á€¬á€¸á€›á€„á€º related á€á€®á€á€»á€„á€ºá€¸á€™á€»á€¬á€¸á€€á€­á€¯ á€¡á€œá€­á€¯á€¡á€œá€»á€±á€¬á€€á€º á€†á€€á€ºá€á€­á€¯á€€á€º á€–á€½á€„á€·á€ºá€•á€±á€¸á€á€±á€¬ feature!

## âœ¨ Feature Overview

**Auto-play** á€á€Šá€º YouTube/Spotify á€€á€²á€·á€á€­á€¯á€· queue á€€á€¯á€”á€ºá€á€½á€¬á€¸á€á€²á€·á€¡á€á€« á€¡á€œá€­á€¯á€¡á€œá€»á€±á€¬á€€á€º related á€á€®á€á€»á€„á€ºá€¸á€™á€»á€¬á€¸á€€á€­á€¯ á€†á€€á€ºá€–á€½á€„á€·á€ºá€•á€±á€¸á€á€±á€¬ feature á€–á€¼á€…á€ºá€á€Šá€ºá‹

## ğŸ¯ How It Works

### **1. Enable Auto-play:**
```
/autoplay
```
â†’ Auto-play mode á€–á€½á€„á€·á€ºá€™á€Šá€º

### **2. Play a Song:**
```
/play despacito
```
â†’ Despacito á€–á€½á€„á€·á€ºá€™á€Šá€º

### **3. Automatic Continuation:**
â†’ Despacito á€•á€¼á€®á€¸á€á€½á€¬á€¸á€›á€„á€º bot á€€:
- á€”á€±á€¬á€€á€ºá€†á€¯á€¶á€¸ á€–á€½á€„á€·á€ºá€á€²á€·á€á€±á€¬ á€á€®á€á€»á€„á€ºá€¸á€€á€­á€¯ á€™á€¾á€á€ºá€á€¬á€¸á€á€Šá€º
- Artist name á€”á€²á€· related tracks á€›á€¾á€¬á€á€Šá€º
- Similar á€á€®á€á€»á€„á€ºá€¸ á€á€…á€ºá€•á€¯á€’á€º á€¡á€œá€­á€¯á€¡á€œá€»á€±á€¬á€€á€º queue á€‘á€²á€‘á€Šá€·á€ºá€á€Šá€º
- á€†á€€á€ºá€–á€½á€„á€·á€ºá€á€Šá€º!

## ğŸ”„ Workflow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  /autoplay á€–á€½á€„á€·á€º    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  /play song A       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Song A á€–á€½á€„á€·á€ºá€”á€±á€á€Šá€º â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Song A á€•á€¼á€®á€¸á€á€Šá€º    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸµ Auto-play:      â”‚
â”‚  Related track á€›á€¾á€¬  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Song B á€‘á€Šá€·á€ºá€•á€¼á€®á€¸   â”‚
â”‚  á€¡á€œá€­á€¯á€¡á€œá€»á€±á€¬á€€á€º á€–á€½á€„á€·á€º â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
     á€‘á€•á€ºá€á€œá€²á€œá€²...
```

## ğŸ® Commands

### Enable/Disable Auto-play:
```bash
/autoplay
```
Toggle á€–á€¼á€…á€ºá€á€Šá€º - á€–á€½á€„á€·á€ºá€‘á€¬á€¸á€›á€„á€º á€•á€­á€á€ºá€™á€Šá€ºáŠ á€•á€­á€á€ºá€‘á€¬á€¸á€›á€„á€º á€–á€½á€„á€·á€ºá€™á€Šá€º

### Status Check:
Auto-play status á€€á€­á€¯ check á€œá€¯á€•á€ºá€›á€”á€º:
```bash
/autoplay
```
Response:
```
âœ… Auto-play Mode
Auto-play mode á€€á€­á€¯ á€–á€½á€„á€·á€ºá€œá€­á€¯á€€á€ºá€•á€«á€•á€¼á€®

ğŸµ Queue á€€á€¯á€”á€ºá€á€½á€¬á€¸á€›á€„á€º related á€á€®á€á€»á€„á€ºá€¸á€™á€»á€¬á€¸ á€¡á€œá€­á€¯á€¡á€œá€»á€±á€¬á€€á€º á€†á€€á€ºá€–á€½á€„á€·á€ºá€•á€«á€™á€šá€º
```

## ğŸ§  Intelligence

Bot á€á€Šá€º related tracks á€€á€­á€¯ á€›á€¾á€¬á€›á€”á€º á€¡á€±á€¬á€€á€ºá€•á€« strategies á€™á€»á€¬á€¸á€€á€­á€¯ á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€á€Šá€º:

### **1. Artist-based Search:**
```typescript
// á€œá€€á€ºá€›á€¾á€­á€á€®á€á€»á€„á€ºá€¸: "Shape of You - Ed Sheeran"
// Search: "Ed Sheeran"
â†’ Ed Sheeran á á€¡á€á€¼á€¬á€¸ á€á€®á€á€»á€„á€ºá€¸á€™á€»á€¬á€¸
```

### **2. Title-based Search:**
```typescript
// á€œá€€á€ºá€›á€¾á€­á€á€®á€á€»á€„á€ºá€¸: "Despacito - Luis Fonsi ft. Daddy Yankee"
// Search: "Despacito"
â†’ Similar style á€á€®á€á€»á€„á€ºá€¸á€™á€»á€¬á€¸
```

### **3. Fallback Search:**
```typescript
// á€¡á€•á€±á€«á€ºá€€ á€™á€›á€¾á€­á€›á€„á€º:
// Search: "popular music"
â†’ Popular trending á€á€®á€á€»á€„á€ºá€¸á€™á€»á€¬á€¸
```

## ğŸµ Example Usage

### **Scenario 1: Continuous Listening**

```bash
User: /autoplay
Bot:  âœ… Auto-play enabled

User: /play despacito
Bot:  ğŸµ Now playing: Despacito

# After song ends...
Bot:  ğŸµ Auto-play: Finding related tracks...
Bot:  âœ… Auto-play added: Shape of You
Bot:  ğŸµ Now playing: Shape of You

# After song ends...
Bot:  ğŸµ Auto-play: Finding related tracks...
Bot:  âœ… Auto-play added: Perfect
Bot:  ğŸµ Now playing: Perfect

# Continues forever until you stop!
```

### **Scenario 2: Mixed with Manual Queue**

```bash
User: /autoplay
User: /play song A
User: /play song B

# Bot plays:
# 1. Song A (manual)
# 2. Song B (manual)
# 3. Song C (auto-play based on B)
# 4. Song D (auto-play based on C)
# ...
```

## ğŸ”§ Technical Details

### **Queue Management:**
```typescript
interface MusicQueue {
  songs: Song[];
  autoplay: boolean;          // âœ¨ NEW!
  lastPlayedSong: Song | null; // âœ¨ NEW!
  // ...
}
```

### **Auto-play Logic:**
```typescript
// When song ends:
1. Save last played song
2. Check if queue is empty
3. If empty && autoplay enabled:
   â†’ Find related tracks
   â†’ Add to queue
   â†’ Continue playing
```

### **Related Tracks Algorithm:**
```typescript
async getRelatedTracks(song: Song): Promise<Song[]> {
  // 1. Search by artist name
  // 2. Search by title keywords
  // 3. Fallback to popular tracks
  // 4. Filter out duplicate
  // 5. Return best match
}
```

## âš™ï¸ Compatibility

### **Works with:**
- âœ… Normal playback
- âœ… Loop modes (off only - autoplay ignored if loop is on)
- âœ… 24/7 mode
- âœ… Filters & volume
- âœ… Multiple servers

### **Doesn't work with:**
- âŒ Loop song mode (loop takes priority)
- âŒ Loop queue mode (loop takes priority)

## ğŸ’¡ Pro Tips

### **1. Better Related Tracks:**
Play songs with clear artist names:
```
âœ… /play despacito luis fonsi
âšª /play that song
```

### **2. Genre Consistency:**
Auto-play works best when starting with specific genres

### **3. Combine with 24/7:**
```
/autoplay
/247
```
â†’ Bot stays connected and plays forever!

### **4. Stop Auto-play:**
```
/autoplay  (toggle off)
# or
/stop      (clear everything)
```

## ğŸ“Š Statistics

Bot logs auto-play activity:
```
ğŸµ Auto-play: Finding related tracks...
âœ… Auto-play added: Song Title
```

## ğŸ› Troubleshooting

### "No related tracks found"
- Last played song may not have good metadata
- SoundCloud API may be rate limited
- Bot will retry with fallback search

### "Auto-play not working"
- Check if auto-play is enabled: `/autoplay`
- Check if loop mode is off: `/loop off`
- Ensure queue is completely empty

### "Same songs repeating"
- SoundCloud search may return popular tracks
- Try starting with different artists

## ğŸ¯ Use Cases

### **1. Background Music:**
```
/autoplay
/play lofi hip hop
â†’ Endless lofi music for studying/working
```

### **2. Party Mode:**
```
/autoplay
/play party hits
â†’ Continuous party music
```

### **3. Discovery:**
```
/autoplay
/play new artist
â†’ Discover similar artists automatically
```

## ğŸ“ˆ Future Enhancements (Ideas)

- [ ] Genre preference learning
- [ ] User history based recommendations
- [ ] Blacklist certain artists/songs
- [ ] Auto-play queue size limit
- [ ] Multiple related tracks at once
- [ ] Smart shuffle for auto-play

---

**Auto-play feature** á€á€Šá€º endless music streaming experience á€•á€±á€¸á€•á€«á€™á€šá€º! Queue á€€á€¯á€”á€ºá€á€½á€¬á€¸á€á€¬á€€á€­á€¯ á€…á€­á€¯á€¸á€›á€­á€™á€ºá€…á€›á€¬ á€™á€œá€­á€¯á€á€±á€¬á€·á€•á€«á€˜á€°á€¸! ğŸµâ™¾ï¸

